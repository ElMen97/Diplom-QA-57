# План автоматизации тестирования приложения "Путешествие дня"

**Цель:** Автоматизировать сценарии (как позитивные, так и негативные)  покупки тура через Приложение.

### Перечень автоматизируемых сценариев:

### 1. Сценарии тестирования Frontend:

### №1.1 Успешная оплата тура "Путешествие дня" при валидном заполнение полей формы "Оплата по карте" по действующей карте. Проверка поля _status_ в таблице _payment_entity_
1. Открываем страницу http://localhost:8080/;
1. Нажимаем кнопку "Купить";
1. Ввести номер карты со статусом APPROVED: 4444 4444 4444 4441;
1. Остальные поля заполнить корректными значениями;
1. Нажимаем кнопку "Прожолжить".
 
   **Ожидаемый результат:** 
- Появляется сообщение "Успешно. Операция одобрена Банком"; 
- Отправляется запрос в банк;
- Поле ***status*** в таблице базы данных ***payment_entity*** принимает значение ***APPROVED***.

### №1.2 Успешная оплата в кредит тура "Путешествие дня" при валидном заполнение полей формы "Кредит по данным карты" по действующей карте. Проверка поля _status_ в таблице _credit_request_entity_ 
1. Открываем страницу http://localhost:8080/;
1. Нажимаем кнопку "Купить в кредит";
1. Ввести номер карты со статусом APPROVED: 4444 4444 4444 4441;
1. Остальные поля заполнить корректными значениями;
1. Нажимаем кнопку "Прожолжить".

   **Ожидаемый результат:**
- Появляется сообщение "Успешно. Операция одобрена Банком";
- Отправляется запрос в банк;
- Поле ***status*** в таблице базы данных ***payment_entity*** принимает значение ***APPROVED***.

### №1.3 Отказ в оплате тура "Путешествие дня" при валидном заполнение полей формы "Оплата по карте" по declined карте. Проверка поля _status_ в таблице _payment_entity_
1. Открываем страницу http://localhost:8080/;
1. Нажимаем кнопку "Купить";
1. Ввести номер карты со статусом DECLINED: 4444 4444 4444 4442;
1. Остальные поля заполнить корректными значениями;
1. Нажимаем кнопку "Прожолжить".

   **Ожидаемый результат:** 
- Появляется сообщение "Ошибка! Банк отказал в проведении операции."
- Отправляется запрос в банк;
- Поле ***status*** таблицы ***payment_entity*** базы данных принимает значение ***DECLINED***.

### №1.4 Отказ в кредите на покупку тура "Путешествие дня" при валидном заполнение полей формы "Кредит по данным карты" по declined карте. Проверка поля _status_ в таблице _credit_request_entity_
1. Открываем страницу http://localhost:8080/;
1. Нажимаем кнопку "Купить в кредит";
1. Ввести номер карты со статусом DECLINED: 4444 4444 4444 4442;
1. Остальные поля заполнить корректными значениями;
1. Нажимаем кнопку "Прожолжить".

   **Ожидаемый результат:** 
- Появляется сообщение "Ошибка! Банк отказал в проведении операции."
- Отправляется запрос в банк;
- Поле ***status*** таблицы ***payment_entity*** базы данных принимает значение ***DECLINED***.


## 2. Тестирование полей формы

* 1. **Поле "Номер карты":**

№2.1.1 Оставление поля пустым, остальные поля заполнены валидно
   
   **Ожидаемый результат:** под полем "Номер карты" появиться предупреждение об пустом поле

№2.1.2 Заполнение поля 15 рандомными цифрами, остальные поля заполнены валидно

   **Ожидаемый результат:** под полем "Номер карты" появиться предупреждение о недопустимой длине поля

№2.1.3 Заполнение поля "Номер карты" 20 рандомными цифрами, остальные поля заполнены валидно

   **Ожидаемый результат:** под полем "Номер карты" появиться предупреждение о недопустимой длине поля

№2.1.4 Заполнение поля 16 рандомными цифрами, остальные поля заполнены валидно

   **Ожидаемый результат:** появление сообщения об отказе в оплате тура

№2.1.5 Заполнение поля "Номер карты" 16 рандомными символами (не цифрами), остальные поля заполнены валидно

   **Ожидаемый результат:** под полем "Номер карты" появиться предупреждение об недопустимых символах


* 2. **Поле "Месяц":**

№2.2.1 Оставление поля пустым, остальные поля заполнены валидно

   **Ожидаемый результат:** под полем "Месяц" появиться предупреждение об пустом поле

№2.2.2 Заполнение поля номером от 1 до 9, остальные поля заполнены валидно

   **Ожидаемый результат:** автодополнение нулем вначале поля 

№2.2.3 Заполнение поля 3 цифрами, остальные поля заполнены валидно

   **Ожидаемый результат:** автоудаление последней цифры

№2.2.4 Заполнение поля значением 00, остальные поля заполнены валидно

   **Ожидаемый результат:** под полем "Месяц" появиться предупреждение об невалидном значение

№2.2.5 Заполнение поля значением 13, остальные поля заполнены валидно

   **Ожидаемый результат:** под полем "Месяц" появиться предупреждение об невалидном значение

№2.2.6 Заполнение поля двумя рандомными символами(не цифрами), остальные поля заполнены валидно

   **Ожидаемый результат:** под полем "Месяц" появиться предупреждение об невалидном значение 

№2.2.7 Заполнение поля "Год" текущим годом, а поля "Месяц" предыдущим месяцем, остальные поля заполнены валидно

**Ожидаемый результат:** под полем "Месяц" появиться предупреждение об невалидном значение


* 3. **Поле "Год":**

№2.3.1 Оставление поля пустым

   **Ожидаемый результат:** под полем "Год" появиться предупреждение об пустом поле

№2.3.2 Заполнение поля предыдущим годом, остальные поля заполнены валидно

**Ожидаемый результат:** под полем "Год" появиться предупреждение об невалидном значение

№2.3.3 Заполнение поля следующим годом от текущего, остальные поля заполнены валидно

**Ожидаемый результат:** под полем "Год" появиться предупреждение об невалидном значение


* 4. **Поле "Владелец":**

№2.4.1 Оставление поля пустым, остальные поля заполнены валидно

   **Ожидаемый результат:** под полем "Владелец" появиться предупреждение об пустом поле

№2.4.2 Заполнение поля в нижнем регистре, остальные поля заполнены валидно

   **Ожидаемый результат:** автозаполнение поля "Владелец" в верхнем регистре

№2.4.3 Заполнение поля с пробелами в начале и в конце, остальные поля заполнены валидно

   **Ожидаемый результат:** автоудаление лишних символов в поле "Владелец"

№2.4.4 Заполнение поля "Владелец" с дефисами в начале и в конце, остальные поля заполнены валидно

   **Ожидаемый результат:** автоудаление лишних символов в поле "Владелец"

№2.4.5 Заполнение поля "Владелец" кириллицей, остальные поля заполнены валидно

   **Ожидаемый результат:** под полем "Владелец" появиться предупреждение об невалидном значение

№2.4.6 Заполнение поля "Владелец" рандомными спецсимволами, остальные поля заполнены валидно

   **Ожидаемый результат:** под полем "Владелец" появиться предупреждение об невалидном значение


* 5. **Поле "CVV":**

№2.5.1 Оставление поля пустым, остальные поля заполнены валидно

   **Ожидаемый результат:** под полем "CVC/CVV" появиться предупреждение об пустом поле

№2.5.2 Заполнение поля "CVC/CVV" 2 рандомными цифрами, остальные поля заполнены валидно

   **Ожидаемый результат:** под полем "CVC/CVV"  появление сообщения об недопустимой длине

№2.5.3 Заполнение поля "CVC/CVV" 4 рандомными цифрами, остальные поля заполнены валидно

   **Ожидаемый результат:** 4 цифра в поле "CVC/CVV" обрезается

№2.5.4 Заполнение поля "CVC/CVV" 3 рандомными буквами, остальные поля заполнены валидно

   **Ожидаемый результат:** под полем "CVC/CVV"  появление сообщения об невалидном значение

№2.5.5 Заполнение поля "CVC/CVV" 3 рандомными спецсимволами, остальные поля заполнены валидно

   **Ожидаемый результат:** под полем "CVC/CVV"  появление сообщения об невалидном значение


**Примечание*:
Валидными значениями для полей являются:

- Валидные номера карт:
'4444 4444 4444 4441', status: 'APPROVED'
'4444 4444 4444 4442', status: 'DECLINED'

- Месяц: число от 01 до 12 (при совпадение поля "Год" с текущим годом, номер месяца не должен быть раньше текущего)

- Год: две последние цифры текущего и последующих лет

- Владелец: 
латиница в ВЕРХНЕМ РЕГИСТРЕ;
допустимые спецсимволы - дефис и пробел;
первый и последний символ должны быть буквами.

- CVC/CVV: число длиной 3 цифры

## 2. Перечень используемых инструментов с обоснованием выбора
1. **Java 11** - Универсальный язык, позволяющий работать на большинстве ОС и различном оборудовании.
1. **IntelliJ IDE** - Многофункциональная среда разработки, бесплатная. Хорошая интеграция в GitHub, широкая поддержка расширений и плагинов для тестирования.
1. **Git** - Система контроля версий. Бсплатность, возможность параллельной разработки, хорошая интеграция с IntelliJ IDEA.
1. **JUnit5** - Тестовый фреймворк, совместимый с JVM и IntelliJ IDEA, содержит все необходимые аннотации.
1. **Gradle** - Система сборки проекта. Имеет простой и понятный код, небольшого объема, в сравнению с Maven. Проще подключать внешние зависимости.
1. **Lombok** - Плагин для создания аннотаций, заменяющих значительное количество однообразных конструкторов JAVA таких как getters, setters и пр.
1. **Selenide** - Фреймворк для автоматизированного тестирования веб-приложений на основе Selenium WebDriver. Подключение веб-драйвера происходит автоматически, простое написание кода тестов.
1. **JavaFaker** - Плагин для генерации случайных данных для тестов. Болшое количество настроек, бесплатный, достаточная локализация для России.
1. **Docker** - Система контейризации. Будет использована для имитации работы IT-системы банка посредством развёртывания БД MySQL, PostgreSQL, запуск самого приложения через Node.js.
1. **Appveyor** - Система CI. Непрерывный контроль интеграции кода. Бесплатный, простое подключение и настройка, удобная интеграция с GitHub.
1. **Allure Report** - Система подготовки отчётов. Бесплатное решение. Хорошая информативная визуализация отчётов. Позволяет отслеживать данные на протяжении времени

## 3. Перечень и описание возможных рисков при автоматизации
1. Сложности с запуском и настройкой SUT.
1. Сложности с настройкой автотестов при отсутствии уникальных css-селекторов в приложении.
1. Изменение структуры рабочего сайта (правка дизайна с изменением html, css) в будущем приведёт к неработоспособности текущих автотестов.
1. Потеря актуальности тестов API при изменении структуры запросов со стороны банка.
1. Так как в качестве банковского сервиса выступает симулятор, есть риск, что при подключении реальной системы появятся новые не выявленые деффекты.

## 4. Интервальная оценка с учётом рисков (в часах)
1. Планирование автоматизации тестирования - 3-5 часов
1. Написание кода тестов - 50-70 часов
1. Подготовка отчётных документов по итогам автоматизированного тестирования - 5-8 часов
1. Подготовка отчётных документов по итогам автоматизации - 5-8 часов

## 5. План сдачи Дипломной работы
1. Готовность авто-тестов — через 8 рабочих дней после утверждения плана тестирования;
1. Подготовка отчетов по результатам прогона тестов — через 3 рабочих дня после прогона тестов;
1. Подготовка отчета по итогам автоматизации — через 3 рабочих дня после отчетов по прогону тестов.